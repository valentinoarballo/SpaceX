---
import type { GetStaticPaths } from "astro";
import { getRockets, getRocketBy } from "../../services/spacexv4";
import Layout from "../../layouts/Layout.astro";
import ImagesCarrousel from "../../components/ImagesCarrousel.astro";


const { id } = Astro.params;

let rocket;
if (id) {
  rocket = await getRocketBy({ id });
}

export async function getStaticPaths() {
  const rockets = await getRockets();

  return rockets.map((rocket) => ({
    params: { id: rocket.id },
  }));
}
---

<Layout title={`${rocket.name}`}>
  <section
    transition:name="section-rocket"
    class="flex justify-center flex-wrap">

    <header class="flex justify-center flex-wrap">

      <h2 class="sm:text-9xl text-7xl font-extrabold">
        {rocket.name}
      </h2>

      <p class="text-3xl text-justify font-bold my-24">
        {rocket.description}
      </p>

    </header>

    <main class="flex-col col-2">

        {
          rocket.flickr_images.map((s) => (
            <ImagesCarrousel image={s} />
          ))
        }
      
    

    </main>

  </section>

</Layout>
